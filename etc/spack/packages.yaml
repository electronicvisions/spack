packages:
  all:
    # AMTHosts
    target: [sandybridge]
    providers:
      mpi: [openmpi, mpich]
      blas: [openblas]
      lapack: [openblas]
      pil: [py-pillow]
      java: [openjdk]
      pkgconfig: [pkg-config]
  bazel:
    # TODO: update (4.0.0 failed), 3.6.0 worked before
    # 3.7: for py-tensorboard (via lightning)
    version: [3.7.2]
  dask:
    variants: [~distributed]
  py-torch:
    version: [1.9.1]
    variants: ['+cuda cuda_arch=61,80,86']
  binutils:
    variants: [+ld+gold+plugins]
  cairo:
    variants: [+X]
  cppcheck:
    variants: [+htmlreport]
  gcc:
    compiler: [gcc@11.2.0]
  genpybind:
    version: ['ebrains']
  hdf5:
    variants: [~mpi+hl]
  libusb:
    buildable: false
    externals:
    - spec: libusb@1.0.22
      prefix: /usr
  llvm:
    version: [11.1.0]
    variants: [~shared_libs+visionary+python~libcxx build_type=Release]
  mesa:
    # mesa via ghostscript -> libepoxy+glx, but doesn't build with llvm@11.1.0
    variants: [~llvm]
  openblas:
    variants: [cpu_target=NEHALEM]
  nccl:
    variants: ['+cuda cuda_arch=61,80,86']
  nest:
    variants: [~mpi+python]
  pango:
    variants: [+X]
  pcre:
    variants: [+jit]
  py-h5py:
    variants: [~mpi]
  # otherwise -simulation prefers 2.0.2 -> bug?
  py-matplotlib:
    version: [2.2.5]
  py-tables:
    variants: [~auto~avx2+sse2]
  python:
    version: [3.8.2]
  ruby:
    variants: [~openssl]
  tk:
    variants: [+X]
  vim:
    variants: [+x]
